{"version":3,"mappings":"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","names":["arguments","dirtyDateLeft","dirtyDateRight","CalendarHeaderComponent","_angular_core__WEBPACK_IMPORTED_MODULE_0__","angular_calendar__WEBPACK_IMPORTED_MODULE_1__","selectors","inputs","view","viewDate","locale","outputs","viewChange","viewDateChange","decls","vars","consts","template","ctx","DemoUtilsModule","_angular_common__WEBPACK_IMPORTED_MODULE_1__","_angular_forms__WEBPACK_IMPORTED_MODULE_2__","angular_calendar__WEBPACK_IMPORTED_MODULE_3__","declarations","_calendar_header_component__WEBPACK_IMPORTED_MODULE_4__","imports","exports","eventClicked_r15","tooltipPlacement_r14","weekEvent_r13","tooltipTemplate_r16","tooltipAppendToBody_r17","tooltipDelay_r19","ctx_r4","_r0","ctx_r5","_r2","ctx_r6","DemoComponent","Date","title","color","_demo_utils_colors__WEBPACK_IMPORTED_MODULE_2__","start","meta","type","groupedSimilarEvents","processedEvents","Set","events","forEach","event","has","similarEvents","filter","otherEvent","end","primary","secondary","add","length","push","groupedEvents","body","cell","groups","Object","entries","DemoModule","angular_calendar__WEBPACK_IMPORTED_MODULE_2__","provide","useFactory","angular_calendar_date_adapters_date_fns__WEBPACK_IMPORTED_MODULE_4__","_ng_bootstrap_ng_bootstrap__WEBPACK_IMPORTED_MODULE_5__","_demo_utils_module__WEBPACK_IMPORTED_MODULE_6__","_angular_router__WEBPACK_IMPORTED_MODULE_7__","path","component","_component__WEBPACK_IMPORTED_MODULE_8__"],"sources":["webpack:///node_modules/date-fns/esm/isSameMinute/index.js","webpack:///projects/demos/app/demo-modules/demo-utils/calendar-header.component.ts","webpack:///projects/demos/app/demo-modules/demo-utils/module.ts","webpack:///projects/demos/app/demo-modules/group-similar-events/template.html","webpack:///projects/demos/app/demo-modules/group-similar-events/component.ts","webpack:///projects/demos/app/demo-modules/group-similar-events/module.ts"],"sourcesContent":["import startOfMinute from \"../startOfMinute/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameMinute\n * @category Minute Helpers\n * @summary Are the given dates in the same minute?\n *\n * @description\n * Are the given dates in the same minute?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same minute\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 2014 06:30:00 and 4 September 2014 06:30:15\n * // in the same minute?\n * var result = isSameMinute(\n *   new Date(2014, 8, 4, 6, 30),\n *   new Date(2014, 8, 4, 6, 30, 15)\n * )\n * //=> true\n */\n\nexport default function isSameMinute(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfMinute = startOfMinute(dirtyDateLeft);\n  var dateRightStartOfMinute = startOfMinute(dirtyDateRight);\n  return dateLeftStartOfMinute.getTime() === dateRightStartOfMinute.getTime();\n}","import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CalendarView } from 'angular-calendar';\n\n@Component({\n  selector: 'mwl-demo-utils-calendar-header',\n  template: `\n    <div class=\"row text-center\">\n      <div class=\"col-md-4\">\n        <div class=\"btn-group\">\n          <div\n            class=\"btn btn-primary\"\n            mwlCalendarPreviousView\n            [view]=\"view\"\n            [(viewDate)]=\"viewDate\"\n            (viewDateChange)=\"viewDateChange.next(viewDate)\"\n          >\n            Previous\n          </div>\n          <div\n            class=\"btn btn-outline-secondary\"\n            mwlCalendarToday\n            [(viewDate)]=\"viewDate\"\n            (viewDateChange)=\"viewDateChange.next(viewDate)\"\n          >\n            Today\n          </div>\n          <div\n            class=\"btn btn-primary\"\n            mwlCalendarNextView\n            [view]=\"view\"\n            [(viewDate)]=\"viewDate\"\n            (viewDateChange)=\"viewDateChange.next(viewDate)\"\n          >\n            Next\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-4\">\n        <h3>{{ viewDate | calendarDate: view + 'ViewTitle':locale }}</h3>\n      </div>\n      <div class=\"col-md-4\">\n        <div class=\"btn-group\">\n          <div\n            class=\"btn btn-primary\"\n            (click)=\"viewChange.emit(CalendarView.Month)\"\n            [class.active]=\"view === CalendarView.Month\"\n          >\n            Month\n          </div>\n          <div\n            class=\"btn btn-primary\"\n            (click)=\"viewChange.emit(CalendarView.Week)\"\n            [class.active]=\"view === CalendarView.Week\"\n          >\n            Week\n          </div>\n          <div\n            class=\"btn btn-primary\"\n            (click)=\"viewChange.emit(CalendarView.Day)\"\n            [class.active]=\"view === CalendarView.Day\"\n          >\n            Day\n          </div>\n        </div>\n      </div>\n    </div>\n    <br />\n  `,\n})\nexport class CalendarHeaderComponent {\n  @Input() view: CalendarView;\n\n  @Input() viewDate: Date;\n\n  @Input() locale: string = 'en';\n\n  @Output() viewChange = new EventEmitter<CalendarView>();\n\n  @Output() viewDateChange = new EventEmitter<Date>();\n\n  CalendarView = CalendarView;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { CalendarModule } from 'angular-calendar';\nimport { CalendarHeaderComponent } from './calendar-header.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, CalendarModule],\n  declarations: [CalendarHeaderComponent],\n  exports: [CalendarHeaderComponent],\n})\nexport class DemoUtilsModule {}\n","<mwl-demo-utils-calendar-header [(view)]=\"view\" [(viewDate)]=\"viewDate\">\n</mwl-demo-utils-calendar-header>\n\n<ng-template #customCellTemplate let-day=\"day\" let-locale=\"locale\">\n  <div class=\"cal-cell-top\">\n    <span class=\"cal-day-badge\" *ngIf=\"day.badgeTotal > 0\"\n      >{{ day.badgeTotal }}</span\n    >\n    <span class=\"cal-day-number\"\n      >{{ day.date | calendarDate:'monthViewDayNumber':locale }}</span\n    >\n  </div>\n  <div class=\"cell-totals\">\n    <span\n      *ngFor=\"let group of day.eventGroups\"\n      class=\"badge badge-{{ group[0] }}\"\n    >\n      {{ group[1].length }}\n    </span>\n  </div>\n</ng-template>\n\n<ng-template\n  #customEventTemplate\n  let-weekEvent=\"weekEvent\"\n  let-tooltipPlacement=\"tooltipPlacement\"\n  let-eventClicked=\"eventClicked\"\n  let-tooltipTemplate=\"tooltipTemplate\"\n  let-tooltipAppendToBody=\"tooltipAppendToBody\"\n  let-tooltipDisabled=\"tooltipDisabled\"\n  let-tooltipDelay=\"tooltipDelay\"\n  let-column=\"column\"\n>\n  <ng-template #groupedEventsTemplate>\n    <div style=\"min-width: 150px\">\n      <div *ngFor=\"let event of weekEvent.event.meta.groupedEvents\">\n        <mwl-calendar-event-actions [event]=\"event\">\n        </mwl-calendar-event-actions>\n        &ngsp;\n        <mwl-calendar-event-title [event]=\"event\" view=\"week\">\n        </mwl-calendar-event-title>\n      </div>\n    </div>\n  </ng-template>\n\n  <div\n    [ngbPopover]=\"groupedEventsTemplate\"\n    [disablePopover]=\"!weekEvent.event.meta.groupedEvents\"\n    class=\"cal-event\"\n    [ngStyle]=\"{\n          backgroundColor: weekEvent.event.color?.secondary,\n          borderColor: weekEvent.event.color?.primary\n        }\"\n    [mwlCalendarTooltip]=\"\n          !tooltipDisabled && !weekEvent.event.meta.groupedEvents\n            ? (weekEvent.event.title\n              | calendarEventTitle: 'weekTooltip':weekEvent.event)\n            : ''\n        \"\n    [tooltipPlacement]=\"tooltipPlacement\"\n    [tooltipEvent]=\"weekEvent.event\"\n    [tooltipTemplate]=\"tooltipTemplate\"\n    [tooltipAppendToBody]=\"tooltipAppendToBody\"\n    [tooltipDelay]=\"tooltipDelay\"\n    (mwlClick)=\"eventClicked.emit()\"\n  >\n    <ng-container *ngIf=\"!weekEvent.event.meta.groupedEvents\">\n      <mwl-calendar-event-actions [event]=\"weekEvent.event\">\n      </mwl-calendar-event-actions>\n      &ngsp;\n    </ng-container>\n    <mwl-calendar-event-title [event]=\"weekEvent.event\" view=\"week\">\n    </mwl-calendar-event-title>\n  </div>\n</ng-template>\n\n<div [ngSwitch]=\"view\">\n  <mwl-calendar-month-view\n    *ngSwitchCase=\"'month'\"\n    [viewDate]=\"viewDate\"\n    [events]=\"events\"\n    [cellTemplate]=\"customCellTemplate\"\n    (beforeViewRender)=\"beforeMonthViewRender($event)\"\n    [activeDayIsOpen]=\"true\"\n  >\n  </mwl-calendar-month-view>\n  <mwl-calendar-week-view\n    *ngSwitchCase=\"'week'\"\n    [viewDate]=\"viewDate\"\n    [events]=\"groupedSimilarEvents\"\n    [eventTemplate]=\"customEventTemplate\"\n  >\n  </mwl-calendar-week-view>\n  <mwl-calendar-day-view\n    *ngSwitchCase=\"'day'\"\n    [viewDate]=\"viewDate\"\n    [events]=\"groupedSimilarEvents\"\n    [eventTemplate]=\"customEventTemplate\"\n  >\n  </mwl-calendar-day-view>\n</div>\n","import { Component, ChangeDetectionStrategy, OnInit } from '@angular/core';\nimport {\n  CalendarEvent,\n  CalendarMonthViewDay,\n  CalendarView,\n} from 'angular-calendar';\nimport { colors } from '../demo-utils/colors';\nimport { isSameMinute, startOfDay } from 'date-fns';\n\ninterface EventGroupMeta {\n  type: string;\n}\n\n@Component({\n  selector: 'mwl-demo-component',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: './template.html',\n  styles: [\n    `\n      .cell-totals {\n        margin: 5px;\n        text-align: center;\n      }\n      .badge {\n        margin-right: 5px;\n      }\n    `,\n  ],\n})\nexport class DemoComponent implements OnInit {\n  view: CalendarView = CalendarView.Month;\n\n  viewDate: Date = new Date();\n\n  events: CalendarEvent[] = [\n    {\n      title: 'Event 1',\n      color: colors.yellow,\n      start: startOfDay(new Date()),\n      meta: {\n        type: 'warning',\n      },\n    },\n    {\n      title: 'Event 2',\n      color: colors.yellow,\n      start: startOfDay(new Date()),\n      meta: {\n        type: 'warning',\n      },\n    },\n    {\n      title: 'Event 3',\n      color: colors.blue,\n      start: startOfDay(new Date()),\n      meta: {\n        type: 'info',\n      },\n    },\n    {\n      title: 'Event 4',\n      color: colors.red,\n      start: startOfDay(new Date()),\n      meta: {\n        type: 'danger',\n      },\n    },\n    {\n      title: 'Event 5',\n      color: colors.red,\n      start: startOfDay(new Date()),\n      meta: {\n        type: 'danger',\n      },\n    },\n  ];\n\n  groupedSimilarEvents: CalendarEvent[] = [];\n\n  ngOnInit() {\n    // group any events together that have the same type and dates\n    // use for when you have a lot of events on the week or day view at the same time\n    this.groupedSimilarEvents = [];\n    const processedEvents = new Set();\n    this.events.forEach((event) => {\n      if (processedEvents.has(event)) {\n        return;\n      }\n      const similarEvents = this.events.filter((otherEvent) => {\n        return (\n          otherEvent !== event &&\n          !processedEvents.has(otherEvent) &&\n          isSameMinute(otherEvent.start, event.start) &&\n          (isSameMinute(otherEvent.end, event.end) ||\n            (!otherEvent.end && !event.end)) &&\n          otherEvent.color.primary === event.color.primary &&\n          otherEvent.color.secondary === event.color.secondary\n        );\n      });\n      processedEvents.add(event);\n      similarEvents.forEach((otherEvent) => {\n        processedEvents.add(otherEvent);\n      });\n      if (similarEvents.length > 0) {\n        this.groupedSimilarEvents.push({\n          title: `${similarEvents.length + 1} events`,\n          color: event.color,\n          start: event.start,\n          end: event.end,\n          meta: {\n            groupedEvents: [event, ...similarEvents],\n          },\n        });\n      } else {\n        this.groupedSimilarEvents.push(event);\n      }\n    });\n  }\n\n  beforeMonthViewRender({\n    body,\n  }: {\n    body: CalendarMonthViewDay<EventGroupMeta>[];\n  }): void {\n    // month view has a different UX from the week and day view so we only really need to group by the type\n    body.forEach((cell) => {\n      const groups = {};\n      cell.events.forEach((event: CalendarEvent<EventGroupMeta>) => {\n        groups[event.meta.type] = groups[event.meta.type] || [];\n        groups[event.meta.type].push(event);\n      });\n      cell['eventGroups'] = Object.entries(groups);\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { CalendarModule, DateAdapter } from 'angular-calendar';\nimport { DemoUtilsModule } from '../demo-utils/module';\nimport { DemoComponent } from './component';\nimport { adapterFactory } from 'angular-calendar/date-adapters/date-fns';\nimport { NgbPopoverModule } from '@ng-bootstrap/ng-bootstrap';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CalendarModule.forRoot({\n      provide: DateAdapter,\n      useFactory: adapterFactory,\n    }),\n    NgbPopoverModule,\n    DemoUtilsModule,\n    RouterModule.forChild([{ path: '', component: DemoComponent }]),\n  ],\n  declarations: [DemoComponent],\n  exports: [DemoComponent],\n})\nexport class DemoModule {}\n"]}