{"version":3,"file":"projects_demos_app_demo-modules_draggable-external-events_module_ts-es2015.js","mappings":"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","sources":["./projects/demos/app/demo-modules/demo-utils/calendar-header.component.ts","./projects/demos/app/demo-modules/demo-utils/module.ts","./projects/demos/app/demo-modules/draggable-external-events/component.ts","./projects/demos/app/demo-modules/draggable-external-events/template.html","./projects/demos/app/demo-modules/draggable-external-events/module.ts"],"sourcesContent":["import { Component, Input, Output, EventEmitter } from '@angular/core';\nimport { CalendarView } from 'angular-calendar';\n\n@Component({\n  selector: 'mwl-demo-utils-calendar-header',\n  template: `\n    <div class=\"row text-center\">\n      <div class=\"col-md-4\">\n        <div class=\"btn-group\">\n          <div\n            class=\"btn btn-primary\"\n            mwlCalendarPreviousView\n            [view]=\"view\"\n            [(viewDate)]=\"viewDate\"\n            (viewDateChange)=\"viewDateChange.next(viewDate)\"\n          >\n            Previous\n          </div>\n          <div\n            class=\"btn btn-outline-secondary\"\n            mwlCalendarToday\n            [(viewDate)]=\"viewDate\"\n            (viewDateChange)=\"viewDateChange.next(viewDate)\"\n          >\n            Today\n          </div>\n          <div\n            class=\"btn btn-primary\"\n            mwlCalendarNextView\n            [view]=\"view\"\n            [(viewDate)]=\"viewDate\"\n            (viewDateChange)=\"viewDateChange.next(viewDate)\"\n          >\n            Next\n          </div>\n        </div>\n      </div>\n      <div class=\"col-md-4\">\n        <h3>{{ viewDate | calendarDate: view + 'ViewTitle':locale }}</h3>\n      </div>\n      <div class=\"col-md-4\">\n        <div class=\"btn-group\">\n          <div\n            class=\"btn btn-primary\"\n            (click)=\"viewChange.emit(CalendarView.Month)\"\n            [class.active]=\"view === CalendarView.Month\"\n          >\n            Month\n          </div>\n          <div\n            class=\"btn btn-primary\"\n            (click)=\"viewChange.emit(CalendarView.Week)\"\n            [class.active]=\"view === CalendarView.Week\"\n          >\n            Week\n          </div>\n          <div\n            class=\"btn btn-primary\"\n            (click)=\"viewChange.emit(CalendarView.Day)\"\n            [class.active]=\"view === CalendarView.Day\"\n          >\n            Day\n          </div>\n        </div>\n      </div>\n    </div>\n    <br />\n  `,\n})\nexport class CalendarHeaderComponent {\n  @Input() view: CalendarView;\n\n  @Input() viewDate: Date;\n\n  @Input() locale: string = 'en';\n\n  @Output() viewChange = new EventEmitter<CalendarView>();\n\n  @Output() viewDateChange = new EventEmitter<Date>();\n\n  CalendarView = CalendarView;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { CalendarModule } from 'angular-calendar';\nimport { CalendarHeaderComponent } from './calendar-header.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, CalendarModule],\n  declarations: [CalendarHeaderComponent],\n  exports: [CalendarHeaderComponent],\n})\nexport class DemoUtilsModule {}\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\nimport {\n  CalendarEvent,\n  CalendarEventTimesChangedEvent,\n  CalendarView,\n} from 'angular-calendar';\nimport { Subject } from 'rxjs';\nimport { colors } from '../demo-utils/colors';\n\n@Component({\n  selector: 'mwl-demo-component',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  templateUrl: 'template.html',\n  styles: [\n    `\n      .drag-active {\n        position: relative;\n        z-index: 1;\n        pointer-events: none;\n      }\n      .drag-over {\n        background-color: #eee;\n      }\n    `,\n  ],\n})\nexport class DemoComponent {\n  CalendarView = CalendarView;\n\n  view = CalendarView.Month;\n\n  viewDate = new Date();\n\n  externalEvents: CalendarEvent[] = [\n    {\n      title: 'Event 1',\n      color: colors.yellow,\n      start: new Date(),\n      draggable: true,\n    },\n    {\n      title: 'Event 2',\n      color: colors.blue,\n      start: new Date(),\n      draggable: true,\n    },\n  ];\n\n  events: CalendarEvent[] = [];\n\n  activeDayIsOpen = false;\n\n  refresh = new Subject<void>();\n\n  eventDropped({\n    event,\n    newStart,\n    newEnd,\n    allDay,\n  }: CalendarEventTimesChangedEvent): void {\n    const externalIndex = this.externalEvents.indexOf(event);\n    if (typeof allDay !== 'undefined') {\n      event.allDay = allDay;\n    }\n    if (externalIndex > -1) {\n      this.externalEvents.splice(externalIndex, 1);\n      this.events.push(event);\n    }\n    event.start = newStart;\n    if (newEnd) {\n      event.end = newEnd;\n    }\n    if (this.view === 'month') {\n      this.viewDate = newStart;\n      this.activeDayIsOpen = true;\n    }\n    this.events = [...this.events];\n  }\n\n  externalDrop(event: CalendarEvent) {\n    if (this.externalEvents.indexOf(event) === -1) {\n      this.events = this.events.filter((iEvent) => iEvent !== event);\n      this.externalEvents.push(event);\n    }\n  }\n}\n","<div class=\"row\">\n  <div class=\"col-md-3\">\n    <div\n      class=\"card\"\n      mwlDroppable\n      (drop)=\"externalDrop($event.dropData.event)\"\n      dragOverClass=\"drag-over\"\n    >\n      <div class=\"card-body\">\n        <p *ngIf=\"externalEvents.length === 0\"><em>No events added</em></p>\n        <ul>\n          <li\n            *ngFor=\"let event of externalEvents\"\n            mwlDraggable\n            [dropData]=\"{event: event}\"\n            [touchStartLongPress]=\"{ delay: 300, delta: 30 }\"\n            dragActiveClass=\"drag-active\"\n          >\n            <a href=\"javascript:;\" [style.color]=\"event.color.primary\">\n              {{ event.title }}\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"col-md-9\">\n    <mwl-demo-utils-calendar-header [(view)]=\"view\" [(viewDate)]=\"viewDate\">\n    </mwl-demo-utils-calendar-header>\n\n    <div [ngSwitch]=\"view\">\n      <mwl-calendar-month-view\n        *ngSwitchCase=\"CalendarView.Month\"\n        [viewDate]=\"viewDate\"\n        [events]=\"events\"\n        [activeDayIsOpen]=\"activeDayIsOpen\"\n        [refresh]=\"refresh\"\n        (eventTimesChanged)=\"eventDropped($event)\"\n      >\n      </mwl-calendar-month-view>\n      <mwl-calendar-week-view\n        *ngSwitchCase=\"CalendarView.Week\"\n        [viewDate]=\"viewDate\"\n        [events]=\"events\"\n        [refresh]=\"refresh\"\n        [snapDraggedEvents]=\"false\"\n        (eventTimesChanged)=\"eventDropped($event)\"\n      >\n      </mwl-calendar-week-view>\n      <mwl-calendar-day-view\n        *ngSwitchCase=\"CalendarView.Day\"\n        [viewDate]=\"viewDate\"\n        [events]=\"events\"\n        [refresh]=\"refresh\"\n        [snapDraggedEvents]=\"false\"\n        (eventTimesChanged)=\"eventDropped($event)\"\n      >\n      </mwl-calendar-day-view>\n    </div>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { CalendarModule, DateAdapter } from 'angular-calendar';\nimport { DragAndDropModule } from 'angular-draggable-droppable';\nimport { DemoUtilsModule } from '../demo-utils/module';\nimport { DemoComponent } from './component';\nimport { adapterFactory } from 'angular-calendar/date-adapters/date-fns';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    CalendarModule.forRoot({\n      provide: DateAdapter,\n      useFactory: adapterFactory,\n    }),\n    DragAndDropModule,\n    DemoUtilsModule,\n    RouterModule.forChild([{ path: '', component: DemoComponent }]),\n  ],\n  declarations: [DemoComponent],\n  exports: [DemoComponent],\n})\nexport class DemoModule {}\n"],"names":[],"sourceRoot":"webpack:///"}